<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Berlin" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="My Notes">
<meta property="og:url" content="https://berlin2022.github.io/index.html">
<meta property="og:site_name" content="My Notes">
<meta property="og:locale">
<meta property="article:author" content="Berlin">
<meta name="twitter:card" content="summary">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="My Notes" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//mirrors.cqupt.edu.cn/cdnjs/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">



    <link href="//mirrors.cqupt.edu.cn/cdnjs/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" rel="stylesheet">





<link rel="stylesheet" href="/css/style.css">



    <style> .article { opacity: 0;} </style>


<link href="//cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">


<title>My Notes</title>

<script src="//cdn.staticfile.org/jquery/2.2.4/jquery.min.js"></script>
<script src="//mirrors.cqupt.edu.cn/cdnjs/ajax/libs/clipboard.js/2.0.9/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//mirrors.cqupt.edu.cn/cdnjs/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js",
        scrollreveal: "//mirrors.cqupt.edu.cn/cdnjs/ajax/libs/scrollReveal.js/4.0.9/scrollreveal.min.js",
        search: true
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js", "//apps.bdimg.com/libs/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 6.2.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/oh_my_bug.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>

        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags">标签云</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="/438898441@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" rel="noopener" href="https://github.com/Berlin2022/Berlin2022.github.io" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Anaconda3/" rel="tag">Anaconda3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AutoHotKey/" rel="tag">AutoHotKey</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS/" rel="tag">CentOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DirectoryLister/" rel="tag">DirectoryLister</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EFunction/" rel="tag">EFunction</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ETResize/" rel="tag">ETResize</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Edge/" rel="tag">Edge</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElasticSearch/" rel="tag">ElasticSearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FILTER/" rel="tag">FILTER</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FastStone-Image-Viewer/" rel="tag">FastStone_Image_Viewer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FreeFileSync/" rel="tag">FreeFileSync</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FrontMatter/" rel="tag">FrontMatter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub-Actions/" rel="tag">GitHub-Actions</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Image-auto-upload-Plugin/" rel="tag">Image-auto-upload-Plugin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LaTex/" rel="tag">LaTex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Link-Shell-Extension/" rel="tag">Link-Shell-Extension</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lister/" rel="tag">Lister</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Movie/" rel="tag">Movie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/" rel="tag">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQLite/" rel="tag">SQLite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TC-UP/" rel="tag">TC_UP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Total-Commander/" rel="tag">Total_Commander</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Wechatsync/" rel="tag">Wechatsync</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bat/" rel="tag">bat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/" rel="tag">book</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cmd/" rel="tag">cmd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dataview/" rel="tag">dataview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dedecms/" rel="tag">dedecms</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/emeditor/" rel="tag">emeditor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/excel/" rel="tag">excel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fiddler/" rel="tag">fiddler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ghost/" rel="tag">ghost</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitee/" rel="tag">gitee</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gulp/" rel="tag">gulp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo-abbrlink/" rel="tag">hexo-abbrlink</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo-permalink-pinyin/" rel="tag">hexo-permalink-pinyin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http%E4%BB%A3%E7%90%86/" rel="tag">http代理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linter/" rel="tag">linter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maoxian-web-clipper/" rel="tag">maoxian-web-clipper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/" rel="tag">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mathjax/" rel="tag">mathjax</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mermaid/" rel="tag">mermaid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/navicate/" rel="tag">navicate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node%C2%B7js/" rel="tag">node·js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/notepad/" rel="tag">notepad++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/" rel="tag">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm-scripts/" rel="tag">npm-scripts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/obsidian/" rel="tag">obsidian</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/office/" rel="tag">office</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/permalink/" rel="tag">permalink</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/photoshop/" rel="tag">photoshop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/picgo/" rel="tag">picgo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ping/" rel="tag">ping</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plan/" rel="tag">plan</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/premiere/" rel="tag">premiere</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qshell/" rel="tag">qshell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ruby/" rel="tag">ruby</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sitemap/" rel="tag">sitemap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typecho/" rel="tag">typecho</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vlookup/" rel="tag">vlookup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-linux/" rel="tag">windows-linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wordpress/" rel="tag">wordpress</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yelee/" rel="tag">yelee</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%83%E7%89%9B%E4%BA%91/" rel="tag">七牛云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%91%E7%9B%98%E5%90%8C%E6%AD%A5/" rel="tag">云盘同步</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%AC%E5%85%B1CND%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90/" rel="tag">公共CND静态资源</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E5%BA%8A%E5%A4%87%E4%BB%BD/" rel="tag">图床备份</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E6%96%87%E5%A4%84%E7%90%86/" rel="tag">图文处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%87%E6%A1%88/" rel="tag">备案</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BD%B1%E9%9F%B3%E5%A4%84%E7%90%86/" rel="tag">影音处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7/" rel="tag">微信公众号</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E5%90%8C%E6%AD%A5%E5%8A%A9%E6%89%8B/" rel="tag">微信公众号同步助手</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81/" rel="tag">微信消息推送</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E5%BE%97%E7%9C%8B%E6%B3%95/" rel="tag">心得看法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%88%91%E7%9A%84%E5%85%B3%E6%B3%A8/" rel="tag">我的关注</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86/" rel="tag">数据采集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5/" rel="tag">文件同步</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E7%AB%A0%E7%BC%96%E8%BE%91%E8%A7%84%E8%8C%83/" rel="tag">文章编辑规范</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B9%E6%96%B9%E6%A0%BC%E5%AD%90/" rel="tag">方方格子</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%BF%97/" rel="tag">日志</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正则表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%9B%E7%BA%BF%E7%BD%91%E9%A1%B5%E5%89%AA%E8%97%8F%E5%99%A8/" rel="tag">毛线网页剪藏器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7/" rel="tag">特殊符号</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A1%AC%E9%93%BE%E6%8E%A5/" rel="tag">硬链接</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%A6%E5%8F%B7%E9%93%BE%E6%8E%A5/" rel="tag">符号链接</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F/" rel="tag">系统变量</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" rel="tag">系统环境变量</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E9%93%BE%E6%8E%A5/" rel="tag">软链接</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://github.com/Berlin2022/Berlin2022.github.io.git">GitHub</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">主要涉猎方向是SEO，也包括一些感兴趣的demo，以前也记过一些笔记，有空一并呈上来；所感所得基本上是源于技术大佬们的无私分享，本博客的初衷一方面是为了方便自己在手机端浏览，另一方面是为了方便大家查阅解惑。</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>

    <div class="hide-left-col" title="隐藏侧栏">
    <i class="fa fa-angle-double-left"></i>
    </div>

    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/oh_my_bug.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags">标签云</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/438898441@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/Berlin2022/Berlin2022.github.io" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-2022-07-25" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022-08-01-8856ceba.html" class="article-date">
      <time datetime="2022-08-01T02:55:45.000Z" itemprop="datePublished">2022-08-01</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022-08-01-8856ceba.html">采集json列表页流程记录</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <div data-timeline="206"></div><br>

<p>(Weather::武汉 ☀️   29°C ←15km&#x2F;h)</p>
<blockquote>
<p>美好的一天从今天开始！</p>
</blockquote>
<h2 id="✏工作日志"><a href="#✏工作日志" class="headerlink" title="✏工作日志"></a>✏工作日志</h2><p>采集目标网址为：<code>https://www.whsshg.com/</code><br>名称： 武汉欣申试化工科技有限公司<br>审核时间：2018-12-26<br>收录： 208<br>Content-Type: application&#x2F;json<br>服务器类型：nginx&#x2F;1.18.0</p>
<p>要求是登录采集所有产品及清单，经登录测试发现登录和不登陆采集没有任何区别，所以无需登陆采集。</p>
<h2 id="结构分析"><a href="#结构分析" class="headerlink" title="结构分析"></a>结构分析</h2><p>化学试剂  </p>
<ul>
<li>通用试剂  (314439)<ul>
<li>材料科学	(29615)</li>
<li>生命科学	(179933)</li>
<li>分析科学	(104880)</li>
<li>环境科学	(11)</li>
</ul>
</li>
<li>高端试剂  (2721092)<ul>
<li>高端科学 (1695683)</li>
<li>其他试剂 (1011057)</li>
<li>标准品 (14352)</li>
</ul>
</li>
<li>管控品  (2213)<ul>
<li>易制毒 (283)</li>
<li>易制爆 (1930)<br>实验耗材 (10573)</li>
</ul>
</li>
<li>安全防护&#x2F;办公日用 (228)<ul>
<li>办公日用 (80)</li>
<li>除尘 (2)</li>
<li>管路&#x2F;设备配件 (16)</li>
<li>清洁用具 (15)</li>
<li>身体防护 (115)</li>
</ul>
</li>
<li>计量&#x2F;实验&#x2F;常规耗材 (1362)<ul>
<li>称量&#x2F;取样&#x2F;加样 (105)</li>
<li>定制玻璃 (1)</li>
<li>反应&#x2F;连接&#x2F;冷凝 (344)</li>
<li>加热&#x2F;降温&#x2F;温度湿度计 (48)</li>
<li>密封&#x2F;搅拌&#x2F;塞子 (98)</li>
<li>清洗&#x2F;收集&#x2F;回收 (42)</li>
<li>容器&#x2F;收纳&#x2F;周转 (50)</li>
<li>实验器具 (8)</li>
<li>研磨&#x2F;分离&#x2F;过滤 (166)</li>
<li>样品储存&#x2F;样品管理 (149)</li>
<li>移液&#x2F;分液 (69)</li>
<li>蒸发&#x2F;干燥 (84)</li>
<li>量器 (198)</li>
</ul>
</li>
<li>生物&#x2F;分析&#x2F;特殊耗材 (914)<ul>
<li>分子生物 (55)</li>
<li>检测耗材 (448)</li>
<li>检查耗材 (2)</li>
<li>色谱耗材 (220)</li>
<li>特殊耗材 (2)</li>
<li>微生物学 (4)</li>
<li>细胞培养 (35)</li>
<li>样品前处理 (107)</li>
<li>医用耗材&#x2F;切割耗材 (21)</li>
<li>组织学&#x2F;生物通过耗材 (20)</li>
</ul>
</li>
<li>其他实验耗材 (2)</li>
<li>其他订购耗材  (7723)<ul>
<li>其他耗材 (7723)</li>
</ul>
</li>
<li>玻璃耗材  (344)<ul>
<li>玻璃器皿 (344)<br>仪器设备 (36)</li>
</ul>
</li>
<li>通用仪器&#x2F;测量仪器 (36)<ul>
<li>PH计 (1)</li>
<li>泵 (3)</li>
<li>反应釜 (2)</li>
<li>加热板 (9)</li>
<li>搅拌器 (16)</li>
<li>水浴锅 (2)</li>
<li>酸度计</li>
<li>天平 (2)</li>
<li>紫外灯 (1)</li>
</ul>
</li>
</ul>
<h2 id="采集分析"><a href="#采集分析" class="headerlink" title="采集分析"></a>采集分析</h2><p>抓包分页特征<br><code>&#123;&quot;page&quot;:1,&quot;size&quot;:20,&quot;condition&quot;:&#123;&quot;backClassIds&quot;:[113,114,115,116,117,118,119,209,120,121],&quot;brandId&quot;:&quot;&quot;,&quot;specification&quot;:&quot;&quot;,&quot;timeOfDelivery&quot;:&quot;&quot;&#125;&#125;</code></p>
<p>分页样式<br><img src="https://img.16tui.com/obsidian/202207251550078.png"></p>
<p>js调用部分代码</p>
<p><img src="https://img.16tui.com/obsidian/202207251552245.png"></p>
<p>通过对分页代码的搜索以及网站目录的扫描，判定是php的Vue框架的源码，具体是哪套程序不清楚。<br><img src="https://img.16tui.com/obsidian/202207251629834.png"></p>
<p>相关追踪</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/LL9504/article/details/105907061/">Vue的el-pagination组件，current-page 绑定的数据变了，但是页面当前页码并没有变的问题</a> </li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qiuqiu1894/article/details/105139028">解决el-pagination组件，current-page 绑定的数据变了，但是页面当前页码并没有变的问题</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/axios">axios 项目</a> </li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36995521/article/details/115223647">axios在vue中的使用</a></li>
</ul>
<p>通过查找并没有发现任何链接<br>通过猜测分页php页面和结构也没有测出来分页的结构</p>
<h2 id="跳过分页"><a href="#跳过分页" class="headerlink" title="跳过分页"></a>跳过分页</h2><p>根据页面链接结构，进行规律分析，逆向采集</p>
<ul>
<li>随机内容地网址<ul>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=122196122927355">https://www.whsshg.com/detailsPage?id=122196122927355</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=121718800646258">https://www.whsshg.com/detailsPage?id=121718800646258</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=11084267967557">https://www.whsshg.com/detailsPage?id=11084267967557</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=133182622007329">https://www.whsshg.com/detailsPage?id=133182622007329</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=110428740911115">https://www.whsshg.com/detailsPage?id=110428740911115</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=122452503954474">https://www.whsshg.com/detailsPage?id=122452503954474</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=122391078372657">https://www.whsshg.com/detailsPage?id=122391078372657</a></li>
</ul>
</li>
</ul>
<p>跨度较大，规律不明显，前面10位可能是时间戳，后面4-5位可能是ID号，测试了一下较难实现，一时陷入僵局。</p>
<h2 id="采集清单获取方案"><a href="#采集清单获取方案" class="headerlink" title="采集清单获取方案"></a>采集清单获取方案</h2><p>主要是列表翻页实现不了，那就设置多个条件，尽可能多的获取清单</p>
<p>离线浏览器抓取页面  不行<br>xeun抓取全站链接   抓不透</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5390&amp;state">https://www.whsshg.com/classificationDetails?id=5390&amp;state</a>         栏目可以提取json，但是获取的地址是假的，一时没有办法把json结果提取出来<br><img src="https://img.16tui.com/obsidian/202207252353632.png"></li>
</ul>
<ol>
<li><p>获取分类及id<br> <a target="_blank" rel="noopener" href="https://mall-api.whsshg.com/mall/api/homePage/navigation">https://mall-api.whsshg.com/mall/api/homePage/navigation</a></p>
</li>
<li><p>通过分类id，获取一页<br> <a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5384">https://www.whsshg.com/classificationDetails?id=5384</a></p>
</li>
<li><p>通过搜索关键词采集、cas号、品牌<br> <a target="_blank" rel="noopener" href="https://www.whsshg.com/searchResult?goodsName=%E5%85%B3%E9%94%AE%E8%AF%8D">https://www.whsshg.com/searchResult?goodsName=关键词</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=21353">https://www.whsshg.com/detailsPage?id=21353</a>     可以提取内容部分</p>
</li>
</ol>
<p>测试<br><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=118570929356801">https://www.whsshg.com/detailsPage?id=118570929356801</a><br><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=118570929356802">https://www.whsshg.com/detailsPage?id=118570929356802</a><br><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=118570929356803%EF%BC%88%E6%97%A0%EF%BC%89">https://www.whsshg.com/detailsPage?id=118570929356803（无）</a><br><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=118570929356804">https://www.whsshg.com/detailsPage?id=118570929356804</a><br><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=118570929356813%EF%BC%88%E6%97%A0%EF%BC%89">https://www.whsshg.com/detailsPage?id=118570929356813（无）</a>  </p>
<ul>
<li>提取分类链接<ul>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5377">https://www.whsshg.com/classificationDetails?id=5377</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5380">https://www.whsshg.com/classificationDetails?id=5380</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5383">https://www.whsshg.com/classificationDetails?id=5383</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5384">https://www.whsshg.com/classificationDetails?id=5384</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5385">https://www.whsshg.com/classificationDetails?id=5385</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5386">https://www.whsshg.com/classificationDetails?id=5386</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5381">https://www.whsshg.com/classificationDetails?id=5381</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5387">https://www.whsshg.com/classificationDetails?id=5387</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5388">https://www.whsshg.com/classificationDetails?id=5388</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5389">https://www.whsshg.com/classificationDetails?id=5389</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5448">https://www.whsshg.com/classificationDetails?id=5448</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5382">https://www.whsshg.com/classificationDetails?id=5382</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5390">https://www.whsshg.com/classificationDetails?id=5390</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5391">https://www.whsshg.com/classificationDetails?id=5391</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5378">https://www.whsshg.com/classificationDetails?id=5378</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5392">https://www.whsshg.com/classificationDetails?id=5392</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5395">https://www.whsshg.com/classificationDetails?id=5395</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5398">https://www.whsshg.com/classificationDetails?id=5398</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5399">https://www.whsshg.com/classificationDetails?id=5399</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5400">https://www.whsshg.com/classificationDetails?id=5400</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5401">https://www.whsshg.com/classificationDetails?id=5401</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5393">https://www.whsshg.com/classificationDetails?id=5393</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5402">https://www.whsshg.com/classificationDetails?id=5402</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5403">https://www.whsshg.com/classificationDetails?id=5403</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5404">https://www.whsshg.com/classificationDetails?id=5404</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5405">https://www.whsshg.com/classificationDetails?id=5405</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5406">https://www.whsshg.com/classificationDetails?id=5406</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5407">https://www.whsshg.com/classificationDetails?id=5407</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5408">https://www.whsshg.com/classificationDetails?id=5408</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5409">https://www.whsshg.com/classificationDetails?id=5409</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5410">https://www.whsshg.com/classificationDetails?id=5410</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5411">https://www.whsshg.com/classificationDetails?id=5411</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5412">https://www.whsshg.com/classificationDetails?id=5412</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5413">https://www.whsshg.com/classificationDetails?id=5413</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5424">https://www.whsshg.com/classificationDetails?id=5424</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5394">https://www.whsshg.com/classificationDetails?id=5394</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5414">https://www.whsshg.com/classificationDetails?id=5414</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5415">https://www.whsshg.com/classificationDetails?id=5415</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5416">https://www.whsshg.com/classificationDetails?id=5416</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5417">https://www.whsshg.com/classificationDetails?id=5417</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5418">https://www.whsshg.com/classificationDetails?id=5418</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5419">https://www.whsshg.com/classificationDetails?id=5419</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5420">https://www.whsshg.com/classificationDetails?id=5420</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5421">https://www.whsshg.com/classificationDetails?id=5421</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5422">https://www.whsshg.com/classificationDetails?id=5422</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5437">https://www.whsshg.com/classificationDetails?id=5437</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5425">https://www.whsshg.com/classificationDetails?id=5425</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5449">https://www.whsshg.com/classificationDetails?id=5449</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5450">https://www.whsshg.com/classificationDetails?id=5450</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5451">https://www.whsshg.com/classificationDetails?id=5451</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5452">https://www.whsshg.com/classificationDetails?id=5452</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5379">https://www.whsshg.com/classificationDetails?id=5379</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5426">https://www.whsshg.com/classificationDetails?id=5426</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5438">https://www.whsshg.com/classificationDetails?id=5438</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5439">https://www.whsshg.com/classificationDetails?id=5439</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5440">https://www.whsshg.com/classificationDetails?id=5440</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5441">https://www.whsshg.com/classificationDetails?id=5441</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5442">https://www.whsshg.com/classificationDetails?id=5442</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5443">https://www.whsshg.com/classificationDetails?id=5443</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5444">https://www.whsshg.com/classificationDetails?id=5444</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5445">https://www.whsshg.com/classificationDetails?id=5445</a></li>
<li><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5446">https://www.whsshg.com/classificationDetails?id=5446</a></li>
</ul>
</li>
</ul>
<p>每个区间取最大值最小值，确定一个范围，另外，有标注具体数量，则随机抽查每个栏目的链接<br>产品和产品之间是高度重复的，因此通用试剂和高端试剂应该存在重复，则最大值在600万以内<br><img src="https://img.16tui.com/obsidian/202207261041364.png"></p>
<p>第一个区间，这个区间按照 1-3万<br><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=22619">https://www.whsshg.com/detailsPage?id=22619</a><br><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=21895">https://www.whsshg.com/detailsPage?id=21895</a><br><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=24832">https://www.whsshg.com/detailsPage?id=24832</a>  </p>
<p>经仔细观察，源码里的数据不是想要采集的数据，对内容页抓包，内容的真实数据是一个json，<br><code>https://mall-api.whsshg.com/mall/api/homePage/thirdPage/allSpecification/22619</code></p>
<p>将实验耗材、化学试剂、仪器设备，分别采集<br><img src="https://img.16tui.com/obsidian/202207261422561.png"></p>
<p><img src="https://img.16tui.com/obsidian/202207261423992.png"></p>
<p><img src="https://img.16tui.com/obsidian/202207261424719.png"></p>
<p>问题：表单不一致，有的有，有的没有<br>先置于同一个数据库中，再导出CSV，再批量处理。</p>
<p>21895  - 24832  这个区间进行采集测试，然后修补规则</p>
<p>问题：无法关联上级栏目<br>backClassId，增加到采集表单，后期关联</p>
<p>1 - 21894 ；24833 - 10024832；分两个范围，至于几亿，亿亿，十亿亿，这种就单独处理。</p>
<p>这是一个非常笨的方法，采集器12个线程全开，一个小时大概是过滤46万，接近22个小时才能过滤1000万。</p>
<p><a target="_blank" rel="noopener" href="https://www.whsshg.com/detailsPage?id=74230922215432">https://www.whsshg.com/detailsPage?id=74230922215432</a> </p>
<p>尝试读取分页。。。。不行</p>
<p>思路：<br>通过脚本将含有id的json保存到本地<br>通过fiddler将含有id的json保存到本地</p>
<p>通过修改fiddler实现：</p>
<ul>
<li>[[fidder OnBeforeResponse函数修改前备份]]  </li>
<li>[[000-Fiddler自动保存抓到的json数据]]</li>
</ul>
<p><img src="https://img.16tui.com/obsidian/202207261629897.png"></p>
<p>脚本是模拟人工操作的，比较慢，这里采用fiddler保存json会相对快很多，而且脚本也简单。</p>
<p><img src="https://img.16tui.com/obsidian/202207261816818.png"><br><img src="https://img.16tui.com/obsidian/202207261819632.png"></p>
<p>提取ID号是没问题的，保存json到本地的代码好像有点问题，老出弹窗，不过不影响数据保存。</p>
<p><img src="https://img.16tui.com/obsidian/202207261820186.png"><br>这是因为开了采集器的原因</p>
<p>内容页采集很多参数漏掉了，先把所有的ID清理出来，后面再重新采集一次</p>
<p>纯度、分子量、MDL、危险性质、GHS图标、应用</p>
<p>2022-07-2711:00<br>问题1：<br>24833 - 10024832 因内存不足采集中断退出，从断点处再次获取ID，尽可能多的获取ID，保存Json时可能会漏，这样也便于直接过滤7位数及以下ID。</p>
<p>24833 - 4694544                    4694545 - 10024832 </p>
<p>问题2：<br>数据获取是间歇性的，但是数据已然足够庞大，如果用分类id对应则几百万的数据一个是放不下，第二个是即便分割成100万的单表，那用vlookup函数时也会卡爆。filter函数可能会相对好一点，但是我依然会觉得很慢，而且处理跨表时，我可能还是会依赖vlookup函数。则今晚必须吃透emeditor的透视，则数据处理起来会快很多。</p>
<p>问题3：<br>采集中往往会遇到相同的产品，有时候甚至型号也是一样的，品牌也是一样的，但是内容确实又有所不同。<br>第一批采集的数据尽可能是提取型号、规格、品牌来区别标题重复项，那第二批、第三批又重复呢？  </p>
<p>有两个想法：</p>
<ol>
<li>采集前对数据的处理比较容易实现，比如：数据合并，把两个或者多个品牌、规格、型号一样的合并到一个单元格，那一个单元格里重复呢？暂时无法解决。所以无法实现不重复的增量增加。</li>
<li>制造如货号、编号等后缀，与前者品牌、规格、型号区别开来。如果是未采集过的品牌，则命名与第一批次相同即可。</li>
</ol>
<p>13:58<br>还是用脚本控制网页浏览，然后fiddler自动获取json，这样子比较省事。但是fiddler会把所有进程包括采集器的采集进程也同时抓取，这是不需要的。</p>
<p>所有数据在这三个列表里<br><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5377">https://www.whsshg.com/classificationDetails?id=5377</a><br><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5378">https://www.whsshg.com/classificationDetails?id=5378</a><br><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5379">https://www.whsshg.com/classificationDetails?id=5379</a></p>
<ol>
<li>要求加载完一个页面后再加载另一个页面</li>
<li>到最后一个页面时停止（实现不了），设置点击上限，需要测算时间手动关闭。</li>
</ol>
<p>2022-07-28</p>
<p><a target="_blank" rel="noopener" href="https://www.whsshg.com/classificationDetails?id=5377">https://www.whsshg.com/classificationDetails?id=5377</a>     按照40条每页，提取至800页</p>
<p>12小时可提取1184页约47360条，化学试剂(3039591)+通用试剂(314474)+高端试剂(2721659)+管控品(2213),实验耗材(10581)+仪器设备(36)<br>6077937+10581+36&#x3D;6088554   就是说每天拿12个小时采集需要采集128.6天，这绝对是不行的，尝试其他方法。</p>
<p>5877798  - 10000000</p>
<p>采集时需设空内容缺省值，否则在emeditor中会出现列的数量不一致，以“空”字作为填充字符串，采集后根据栏目id透视栏目名称，可以在一个表中进行添加操作，以换行符将参数整合到一个单元格，则发布步数一致，（补充一步，将耗材详情空内容缺省值设为“无详情”，还是要将不同的内容区分开发布）。</p>
<p>截至目前共提取到的内容ID有 19.1318万个（ID提取汇总05.csv），还差一大截，尝试通过Python获取json地址及分页地址。</p>
<p>2022-07-29<br>1110页   共计 19.7956万</p>
<p>此时最好的采集方式我想应该是Python的爬虫，于是进行如下搜索</p>
<blockquote>
<p>如何获取网页的json数据(js通过url获取json数据<br>python读取json 网页_如何使用 Python 得到网页返回正确的 Json 数据？<br>python 网页返回json<br>post: Response &#x3D; requests.post(url&#x3D;<br>python基于ajax的post<br>jsonpath(content,’$..tracking_url’)</p>
</blockquote>
<p>参考拉勾网Python爬虫代码，发现该网站也是反爬虫的，实际也对应不上<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhaoxinhui/p/12375176.html">python爬虫（九） requests库之post请求</a><br><a target="_blank" rel="noopener" href="https://www.freesion.com/article/140098505/">在爬取拉勾网的时候报错{“STATUS”:FALSE,”MSG”:”您操作太频繁,请稍后再访问”,”CLIENTIP”:”113.94.81.141”}</a>  </p>
<p>该实例网址 <a target="_blank" rel="noopener" href="http://zaxy.zjjy.xyz/">http://zaxy.zjjy.xyz</a> 比较接近现在的情况，实际也对应不上<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/wenxingchen/article/details/121339089">python发送request请求并解析返回的json</a> </p>
<p>尝试<br><a target="_blank" rel="noopener" href="https://www.csdn.net/tags/OtTaEg2sMTI3MC1ibG9n.html">post请求返回对象对json 时的处理办法</a>  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> jsonpath</span><br><span class="line"></span><br><span class="line">response = requests.post(<span class="string">&#x27;https://mall-api.whsshg.com/mall/api/homePage/secondPage?&#x27;</span>, data=json.dumps(&#123;</span><br><span class="line">  <span class="string">&quot;page&quot;</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="string">&quot;size&quot;</span>: <span class="number">20</span>,</span><br><span class="line">  <span class="string">&quot;condition&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;backClassIds&quot;</span>: [</span><br><span class="line">      <span class="number">113</span>,</span><br><span class="line">      <span class="number">114</span>,</span><br><span class="line">      <span class="number">115</span>,</span><br><span class="line">      <span class="number">116</span>,</span><br><span class="line">      <span class="number">117</span>,</span><br><span class="line">      <span class="number">118</span>,</span><br><span class="line">      <span class="number">119</span>,</span><br><span class="line">      <span class="number">209</span>,</span><br><span class="line">      <span class="number">120</span>,</span><br><span class="line">      <span class="number">121</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;brandId&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;specification&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;timeOfDelivery&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;),headers=&#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>&#125;).text</span><br><span class="line">content=json.loads(response)</span><br><span class="line">netlink=jsonpath.jsonpath(content,<span class="string">&#x27;$..tracking_url&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><del>代码运行为空，可能需要别的验证参数</del>，<code>tracking_url</code>对应不上，没有<code>print()</code></p>
<p>至此，可能需要其他办法来解决这个问题，Python毕竟才学了几天，实在搞不定。</p>
<p>13:41</p>
<p>根据已得的19+万数据，寻找每个位数区间之间的规律，采集器已经过滤至 1000万，则从1000万打头往上开始。<br>很容易就找到了如下10开头的数据段，经测试最低位是 10100000 ，直接取值至11打头，即 10999999，应该是可以获取几十万数据的，这点数据还是太少，一步步来。</p>
<p><img src="https://img.16tui.com/obsidian/202207291343008.png"></p>
<p><img src="https://img.16tui.com/obsidian/202207291346495.png"></p>
<p>为了有更多的区域可以选择，所以计划对每个栏目（包括子栏目），开头取5页，结尾取5页，中间取5页(每隔1000页取5页)，则打头的数据会多，也能实现尽可能多的采集过来，这种方法不能完整的采集，而且目标站点每日也在更新。如果链接以一堆毫无规律的字符串丢出来的话，这还就真没办法了，就只能用fidder保存json了，不过一晚上才4~5万数据。</p>
<p>再次尝试<br><a target="_blank" rel="noopener" href="https://www.csdn.net/tags/OtTaEg2sMTI3MC1ibG9n.html">post请求返回对象对json 时的处理办法</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> jsonpath</span><br><span class="line"></span><br><span class="line">response = requests.post(<span class="string">&#x27;https://mall-api.whsshg.com/mall/api/homePage/secondPage?t=1659061001310&#x27;</span>, data=json.dumps(&#123;</span><br><span class="line">  <span class="string">&quot;page&quot;</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="string">&quot;size&quot;</span>: <span class="number">20</span>,</span><br><span class="line">  <span class="string">&quot;condition&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;backClassIds&quot;</span>: [</span><br><span class="line">      <span class="number">113</span>,</span><br><span class="line">      <span class="number">114</span>,</span><br><span class="line">      <span class="number">115</span>,</span><br><span class="line">      <span class="number">116</span>,</span><br><span class="line">      <span class="number">117</span>,</span><br><span class="line">      <span class="number">118</span>,</span><br><span class="line">      <span class="number">119</span>,</span><br><span class="line">      <span class="number">209</span>,</span><br><span class="line">      <span class="number">120</span>,</span><br><span class="line">      <span class="number">121</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;brandId&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;specification&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;timeOfDelivery&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;),headers=&#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,<span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.134 Safari/537.36 Edg/103.0.1264.71&quot;</span>,</span><br><span class="line">    <span class="string">&#x27;Referer&#x27;</span>:<span class="string">&quot;https://www.whsshg.com/&quot;</span>,<span class="string">&#x27;Accept&#x27;</span>:<span class="string">&#x27;application/json, text/plain, */*&#x27;</span>,<span class="string">&#x27;token&#x27;</span>:<span class="string">&#x27;c2fa14f73e8b4bc5847f1aa62dba35f8f9d1dacb9cbc49278abb984c41ca2916&#x27;</span>&#125;).text</span><br><span class="line">content=json.loads(response)</span><br><span class="line">netlink=jsonpath.jsonpath(content,<span class="string">&#x27;$..result&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(netlink)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;---------------------------方法二----------------------------------&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;https://mall-api.whsshg.com/mall/api/homePage/secondPage?t=1659061001310&#x27;</span></span><br><span class="line">headers_=&#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,<span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.134 Safari/537.36 Edg/103.0.1264.71&quot;</span>,</span><br><span class="line">    <span class="string">&#x27;Referer&#x27;</span>:<span class="string">&quot;https://www.whsshg.com/&quot;</span>,<span class="string">&#x27;Accept&#x27;</span>:<span class="string">&#x27;application/json, text/plain, */*&#x27;</span>,<span class="string">&#x27;token&#x27;</span>:<span class="string">&#x27;c2fa14f73e8b4bc5847f1aa62dba35f8f9d1dacb9cbc49278abb984c41ca2916&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">str_data = requests.get(url,headers = headers_).text</span><br><span class="line">dict_data = json.loads(str_data)</span><br><span class="line"><span class="comment"># 第一个参数是字典对象，第二个参数是jsonpath表达式</span></span><br><span class="line">ret = jsonpath.jsonpath(dict_data, <span class="string">&#x27;$..result&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(ret)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>第一段代码获取到了json值，方法二没有</p>
<p><img src="https://img.16tui.com/obsidian/202207291415703.png"></p>
<p>直接获取需要的ID，因为全部结果保存和处理起来都比较麻烦，而且加载还慢，回头我再用采集器捋一捋，比如空值缺省，批量伪原创（加前后缀啊、全角半角转换啊）标题制作啊，描述制作啊，化学试剂没图片的批量添加图片啊，几个列合并到一个单元格等。。。</p>
<p>得到该栏目的所有的内容ID，但是怎么翻页呢？我记得是需要<code>range=[i]+1</code> 、<code>for page in range(1, 3):</code>之类的，再找找代码，Python这次我有点改观了，以前没想着用Python做采集的。</p>
<p><img src="https://img.16tui.com/obsidian/202207291425365.png"></p>
<p>网站好像崩了，手机正常访问，那应该是ip进黑名单了。我这边是拨号网络，重启一下猫就可以了。</p>
<p>2022-07-30<br>Python刚入门还不是很熟，好在门槛低，东拼西凑，总算把翻页和保存实现了，采集的过程也实时展现了，第一页到第二页还是比较快，后面第三页就和fidder脚本一样要隔30几秒才能返回数据，大概也就没有想象中那么快了，好在不会中断，一天24小时可以应该在10万个ID以上，感觉还是没有分区采集的办法快，但是好在数据是全的。</p>
<p><img src="https://img.16tui.com/obsidian/202207301434721.png"></p>
<p>上面的代码有问题，都抓取再保存，哪有这么大内存，还是抓取一页保存一页</p>
<p><img src="https://img.16tui.com/obsidian/202207301458092.png"></p>
<p>页面实在太长就不贴出来了，代码位于【<code>&quot;D:\desk01\python练习\post请求返回对象对json 时的处理办法【运行为空】.py&quot;</code>】</p>
<p>代码编写参考：<br>[[数据提取之jsonpath]]<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/syw20170419/p/10972471.html">python txt文件读写（追加、覆盖）</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36756866/article/details/111590479">python读取文本并将指定内容逐行写入txt文件保存</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/t8116189520/article/details/78727971">python爬虫 如何解析json文件 json文件的解析提取和jsonpath的应用</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/84979013">外行学 Python 爬虫 第六篇 动态翻页</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/KinglakeINC/article/details/114816909">【Python】爬虫入门5：跨页面请求、翻页爬取数据</a>  </p>
<p>2022-07-31<br>今天过来发现爬到1340页这个位置不动了，也就是5.36万数据，python代码陷入假死状态，发现要么是内存占用过大，要么是python内存管理机制（垃圾回收机制）来不及消除未引用的值，那怎么解决呢？</p>
<p>加了段清缓存代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;正清理缓存文件...&quot;</span>)</span><br><span class="line">os.system(<span class="string">&#x27;@echo off &amp; for /d %i in (%temp%\^_MEI*) do (rd /s /q &quot;%i&quot;)&gt;nul&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://img.16tui.com/obsidian/202207311115151.png"></p>
<p>结果<br><img src="https://img.16tui.com/obsidian/202207311116687.png"></p>
<p>要保存的数据给我清空了。。。坑。。。蛋疼的很。。。从头开始。。。</p>
<p>还有这种采集速度着实有点慢了，听说有种方法叫做并发采集。。。一个个解决</p>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44648216/article/details/105796379">requests.post 小坑： 默认无超时，会阻塞</a> </li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013832707/article/details/81476609">python分布式爬虫并解决假死问题</a></li>
</ul>
<p>到目前只能实现超时自动终止并返回一堆超时的代码，今天状态还不错，解决不了那只能是基础太差了，尝试别的解决办法。</p>
<p>它错任它错，我把代码复制20份，把采集页码分为20个区间，在用bat批处理同时运行，我想了一下就按照1000页来分区间，一天采2万页也就可以了，而且中途死掉的几率很小。</p>
<p>76193分76个区间，每个区间1005页，分三个晚上采集，同时运行25份代码</p>
<p>excel拉出编号页码区间</p>
<p><img src="https://img.16tui.com/obsidian/202207311550864.png"></p>
<p>sublime_text 快速切换修改</p>
<p><img src="https://img.16tui.com/obsidian/202207311551308.png"></p>
<p>批运行</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> Starting <span class="number">1</span>.py</span><br><span class="line"><span class="built_in">start</span> &quot;&quot; &quot;D:\desk01\<span class="number">111111</span>\<span class="number">1</span>.py&quot;</span><br><span class="line"><span class="built_in">echo</span> Starting <span class="number">2</span>.py</span><br><span class="line"><span class="built_in">start</span> &quot;&quot; &quot;D:\desk01\<span class="number">111111</span>\<span class="number">2</span>.py&quot;</span><br><span class="line"><span class="built_in">echo</span> Starting Google <span class="number">3</span>.py</span><br><span class="line"><span class="built_in">start</span> &quot;&quot; &quot;D:\desk01\<span class="number">111111</span>\<span class="number">3</span>.py&quot;</span><br><span class="line"><span class="built_in">echo</span> Starting <span class="number">4</span>.py</span><br><span class="line"><span class="built_in">start</span> &quot;&quot; &quot;D:\desk01\<span class="number">111111</span>\<span class="number">4</span>.py&quot;</span><br><span class="line"><span class="built_in">echo</span> Starting <span class="number">5</span>.py</span><br><span class="line"><span class="built_in">start</span> &quot;&quot; &quot;D:\desk01\<span class="number">111111</span>\<span class="number">5</span>.py&quot;</span><br><span class="line"><span class="built_in">echo</span> Starting Google <span class="number">6</span>.py</span><br><span class="line"><span class="built_in">start</span> &quot;&quot; &quot;D:\desk01\<span class="number">111111</span>\<span class="number">6</span>.py&quot;</span><br><span class="line"><span class="built_in">echo</span> Starting <span class="number">7</span>.py</span><br><span class="line"><span class="built_in">start</span> &quot;&quot; &quot;D:\desk01\<span class="number">111111</span>\<span class="number">7</span>.py&quot;</span><br><span class="line">……</span><br></pre></td></tr></table></figure>

<p>bat 不行，手动一个个运行</p>
<p><img src="https://img.16tui.com/obsidian/202207311836104.png"></p>
<p>翻页简直是龟速。。。。</p>
<p>2022-08-01</p>
<p>“ConnectionAbortedError: <code>[WinError 10053]</code> 您的主机中的软件中止了一个已建立的链接”报错，看到有说是因为访问频率太大导致的报错，一个是timeout。采集代码一定是可以改良的，有空再试，先用区间采集法。</p>
<p>10100000—10999999，这个几十万算是比较多的一个区间，后面的区间规律特别少试了几个都不能大批量采集，尝试修改Python代码，以每个子栏目为入口，size为每页20个，重新修改采集json值，这样就不用遍历查询了，经测试速度快多了，一个小时爬取到的数据相当于昨天一晚上爬数据。</p>
<p><img src="https://img.16tui.com/obsidian/202208011029687.gif"> </p>
<p>左侧绿色是采集器的过滤速度，右边黑色的是python代码爬虫的速度，这样就有可比性了，我比较擅长资源整合总是靠着多种软件组合来解决问题，本来Python的爬虫已经被我排除在学习项目之外了，如今看来Python的爬虫还是值得系统性学一下的，但还是要以实际需求为准。</p>
<p>这家网站又崩了，我IP又被拉入黑名单了，悄悄加了句代码，等下重启猫继续抢救一下……</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">time.sleep(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<p>重启两次猫，ip没有变，花了9块钱买了7天的vpn，测试没有问题，7天把数据全部采集下来，问题应该不大。</p>
<hr>
<p>这样6088554+的数据就可以在极短的时间爬出来了，然后就是数据处理阶段，几百万行的数据excel肯定是处理不了了，好在emditor学了几节课已经基本上手了，匹配图片也是个大工程，只能根据CAS号给088554+的数据配图。</p>
<p>思考一下配图思路：</p>
<ol>
<li>首先图片标准是要按照本站500<code>*</code>500的详情图标准，但是一般情况下是350<code>*</code>350或以下的尺寸</li>
<li>图片格式，根据一些大型网站的做法，均采用“.webp” 这种压缩格式，具体还不知道怎么实现的</li>
<li>批量修改详情大图尺寸，有FastStone Image Viewer 和 Gigapixel_59011两款软件，一个速度快，一个质量高</li>
<li>商品缩略图尺寸，需要批量转换，批量重命名，根据图片优化的标准最好是最小尺寸</li>
<li>图片采集，需采集多个站点，一些国外网站图片做的非常规范，而且是最新、高清大尺寸，缺点是加载慢</li>
<li>采集图片的时候，图片名称一定要修改为对应的CAS号，否则无法和本批次采集数据对应</li>
<li>出现多个重复CAS号的图片时，需要做筛选，尺寸大的优先，怎么筛选？</li>
<li>可导出多个文件夹清单，包括详细信息，尺寸大小，然后放到一个CSV，跟重复次数，按大小排序，保留最大的行。</li>
</ol>
<hr>
<p>标题：避免重复设置，厂家、规格、价格，货号，价格可能需要转码（转换为一串编号）</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/20-Diary/">20-Diary</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%97%A5%E5%BF%97/" rel="tag">日志</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/413/">413</a><a class="extend next" rel="next" href="/page/2/">下一页 »</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2022 Berlin
            </div>

            <div class="footer-right">
                <!--a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>-->

            <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
            <script>
                var now = new Date(); 
                function createtime() { 
                    var grt= new Date("05/15/2022 02:34:02");//此处修改你的建站时间或者网站上线时间 
                    now.setTime(now.getTime()+250); 
                    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                    document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "; 
                    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
                } 
            setInterval("createtime()",250);
            </script>

            </div>

        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
   <script type="application/javascript">
     var hide = false, leftWidth = 300;
     function hideLeftCol() {
       if (hide) {
         $(".left-col").width(leftWidth);
         $(".left-col .intrude-less").css('display', '');
         $("#tocButton").css('display', '');
         ($('#switch-btn').css('display') === 'block' && $('#switch-area').css('display') === 'block') || $('#toc').slideDown(320);
         $(".hide-left-col").css("left", leftWidth).html('<i class="fa fa-angle-double-left"></i>');
         $(".mid-col").css("left", leftWidth)
         $("#post-nav-button").css("left", leftWidth)
         $("#post-nav-button > a:nth-child(2)").css("display", "block")
         hide = false
       } else {
         $(".left-col").width(0);
         $(".left-col .intrude-less").css('display', 'none');
         $("#toc").css('display', 'none');
         $("#tocButton").css('display', 'none');
         $(".hide-left-col").css("left", 0).html('<i class="fa fa-angle-double-right"></i>');
         $(".mid-col").css("left", 0)
         $("#post-nav-button").css("left", 0)
         $("#post-nav-button > a:nth-child(2)").css("display", "none")
         if ($(".post-list").is(":visible")) {
           $("#post-nav-button .fa-bars,#post-nav-button .fa-times").toggle();
           $(".post-list").toggle();
         }
         hide = true
       }
     }
     $(".hide-left-col").click(function() {
       hideLeftCol()
     });
   </script>

    
<script data-main="/js/main.js" src="//cdn.staticfile.org/require.js/2.2.0/require.min.js"></script>

  <script>
    $(document).ready(function() {
      var iPad = window.navigator.userAgent.indexOf('iPad');
      if (iPad > -1) {
        let bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
        let bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
        $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
      } else if ($(".left-col").css("display") === "none") {
        $("body").css({
          "background-image": "url(/background/mobile.jpg)",
          "background-repeat": "no-repeat",
          "background-attachment": "fixed",
          "background-size": "cover"
        })
      } else {
        var backgroundnum = 5;
        var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
        $("body").css({
          "background": backgroundimg,
          "background-position": "0% 80%",
          "background-attachment": "fixed",
          "background-size": "cover"
        })
      }
    })
  </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
             post: ".article-entry a[href], .copyright a[href]", 
            
            
            
             archives: ".archive-article-title", 
            
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>